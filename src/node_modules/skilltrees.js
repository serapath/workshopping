const skilltree = require('skilltree.js')
const crawl = require('crawl-workshop')
const bel = require('bel')
const csjs = require('csjs-inject')

module.exports = skilltrees

async function skilltrees (data, href) {
  const element = bel`<div class=${css.skilltree}></div>`
  setTimeout(async () => {
    const dag = await crawl(data, href)
    skilltree(element, dag)
  }, 0)
  return element
}
const css = csjs`
.skilltree {
  height: 100%;
  width: 100%;
}`
